/* -------------------------------
   Subtle moving background + glass sheen
   Append this to the end of styles/globals.css
   ------------------------------- */

/* Tunable motion variables */
:root{
  --motion-duration: 35s;    /* how slow the pan is (bigger = slower) */
  --sheen-duration: 3.6s;    /* sheen speed on glass */
  --movement-opacity: 0.045; /* overall opacity of animated layer */
}

/* background movement layer that sits behind everything */
body::before {
  content: "";
  position: fixed;
  inset: 0;
  z-index: 0; /* keep behind app */
  pointer-events: none;
  background:
    radial-gradient(1200px 600px at 10% 20%, rgba(124,58,237,0.12), transparent 8%),
    radial-gradient(1000px 500px at 80% 80%, rgba(236,72,153,0.08), transparent 10%),
    linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0));
  opacity: var(--movement-opacity);
  transform: translateZ(0);
  filter: blur(32px) saturate(120%);
  mix-blend-mode: screen;
  animation: bg-pan var(--motion-duration) linear infinite;
}

/* gentle positional animation for background */
@keyframes bg-pan {
  0%   { transform: translate3d(-2%, -1%, 0) scale(1.02) }
  50%  { transform: translate3d(2%, 1.5%, 0) scale(1.03) }
  100% { transform: translate3d(-2%, -1%, 0) scale(1.02) }
}

/* glass-panel upgrade: stronger backdrop and animated sheen */
.glass-panel {
  position: relative; /* for sheen pseudo-element */
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border: 1px solid var(--glass-border);
  backdrop-filter: blur(10px) saturate(140%);
  -webkit-backdrop-filter: blur(10px) saturate(140%);
  box-shadow: 0 12px 36px rgba(2,6,23,0.55);
  overflow: hidden;
}

/* sliding sheen (subtle moving light) */
.glass-panel::after {
  content: "";
  position: absolute;
  top: -40%;
  left: -50%;
  width: 160%;
  height: 160%;
  transform: rotate(-16deg);
  background: linear-gradient(90deg, rgba(255,255,255,0.00) 0%, rgba(255,255,255,0.06) 48%, rgba(255,255,255,0.00) 100%);
  opacity: 0.55;
  mix-blend-mode: overlay;
  pointer-events: none;
  animation: sheen var(--sheen-duration) ease-in-out infinite;
}

/* sheen motion */
@keyframes sheen {
  0%   { transform: translateX(-40%) rotate(-16deg); opacity: 0.25; }
  50%  { transform: translateX(10%) rotate(-16deg); opacity: 0.55; }
  100% { transform: translateX(110%) rotate(-16deg); opacity: 0.25; }
}

/* make user bubble sheen slightly stronger to feel 'lit' */
.bg-purple-700::after {
  background: linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.10) 50%, rgba(255,255,255,0) 100%);
  opacity: 0.6;
  animation-duration: 2.8s;
}

/* reduce motion for users who prefer it */
@media (prefers-reduced-motion: reduce) {
  :root { --motion-duration: 1s; --sheen-duration: 1s; --movement-opacity: 0.02; }
  body::before { animation: none; }
  .glass-panel::after, .bg-purple-700::after { animation: none; opacity: 0.08; }
}

/* make sure app content sits above the background layer */
#___app, #__next, .app-root, .hero-wrapper {
  position: relative;
  z-index: 1;
}

/* optional: tiny parallax push for hero to feel separate
   (applies only on larger screens so mobile stays simple) */
@media (min-width: 900px) {
  .hero-wrapper {
    transform: translateZ(0);
    will-change: transform;
    transition: transform 0.45s cubic-bezier(.2,.9,.3,1);
  }
  /* gently nudge hero on hover to hint movement (micro-interaction) */
  .hero-wrapper:hover { transform: translateY(-4px) translateZ(0); }
}

/* safety: ensure panels remain readable even when background is bright */
.glass-panel, .hero-wrapper, .flex-1.overflow-auto.bg-[#0f1720] {
  isolation: isolate;
}
